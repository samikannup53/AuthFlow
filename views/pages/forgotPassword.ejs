<!DOCTYPE html>
<html lang="en">
  <!-- Head -->
  <%- include('../partials/head') %>

  <!-- Body -->
  <body class="body">
    <div class="auth-form-container">
      <div class="auth-card">
        <!-- Back Button -->
        <span class="card-back-button">
          <i class="fas fa-chevron-left"></i>
          <a href="/">Back</a>
        </span>

        <!-- Icon and Heading -->
        <div class="flex flex-col items-center mb-10">
          <div class="card-icon">
            <i class="fas fa-key text-2xl"></i>
          </div>
          <h2 class="card-heading">Forgot Password?</h2>
          <p class="text-sm sm:text-base text-gray-600 text-center">
            Reset your
            <span class="text-orange-600 font-medium">AuthFlow</span> account
            password.
          </p>
        </div>

        <!-- STEP 1 -->
        <section id="step1" class="w-full">
          <form action="" class="auth-form">
            <!-- Form Alerts Display -->
            <% if (alert) { %> <%- include('../partials/formAlerts', { alert:
            alert })%> <% } %>
            <p
              for="email"
              class="block text-gray-700 font-medium underline text-center"
            >
              Enter Your Registered Email to Reset Password
            </p>
            <div class="form-input-div">
              <i
                class="fas fa-envelope text-orange-500 text-sm sm:text-base"
              ></i>
              <input
                type="email"
                id="email"
                name="email"
                placeholder="Enter Your Email"
                class="form-input-box"
              />
            </div>

            <button type="button" class="submit-button">
              <i class="fas fa-paper-plane"></i> Submit
            </button>
          </form>
        </section>

        <!-- STEP 2 -->
        <section id="step2" class="w-full hidden">
          <p class="mb-3 text-gray-700 font-medium underline text-center">
            Please Select Your Preferred Reset Method
          </p>
          <form action="" class="auth-form">
            <div class="flex gap-4 justify-center">
              <label class="inline-flex items-center gap-2 cursor-pointer">
                <input
                  type="radio"
                  name="resetMethod"
                  value="otp"
                  class="form-radio text-orange-500"
                />
                <span class="text-gray-700"
                  ><i class="fas fa-key mr-1"></i>OTP Based</span
                >
              </label>
              <label class="inline-flex items-center gap-2 cursor-pointer">
                <input
                  type="radio"
                  name="resetMethod"
                  value="link"
                  class="form-radio text-orange-500"
                />
                <span class="text-gray-700"
                  ><i class="fas fa-link mr-1"></i>Link Based</span
                >
              </label>
            </div>
            <div class="flex gap-4">
              <button type="button" class="submit-button">
                <i class="fas fa-cogs"></i> Generate
              </button>
            </div>
          </form>
        </section>

        <!-- STEP 3A -->
        <section id="step3-otp" class="w-full hidden">
          <p class="mb-3 text-gray-700 font-medium underline text-center">
            Enter the OTP sent to your Email
          </p>
          <div class="form-input-div">
            <i class="fas fa-shield-alt text-orange-500"></i>
            <input
              type="text"
              id="otp"
              name="otp"
              placeholder="One Time Password"
              class="form-input-box"
            />
          </div>
          <div class="flex justify-end mt-2 mr-4">
            <button class="text-orange-600 text-sm hover:underline">
              <i class="fas fa-sync-alt mr-1"></i>Regenerate OTP
            </button>
          </div>
          <div class="flex gap-4 mt-6">
            <button type="button" class="submit-button">
              <i class="fas fa-check-circle"></i> Submit
            </button>
          </div>
        </section>

        <!-- STEP 3B -->
        <section id="step3-link" class="w-full hidden">
          <div class="auth-form">
            <div
              class="bg-green-100 border border-green-300 text-green-700 p-4 rounded-xl text-center"
            >
              <i class="fas fa-check-circle mr-2"></i>
              A password reset link has been sent to your registered email.
            </div>

            <a href="/user/login" class="submit-button">
              <i class="fas fa-thumbs-up"></i> OK
            </a>
          </div>
        </section>

        <!-- STEP 4 -->
        <section id="step4" class="w-full hidden">
          <form action="" class="auth-form">
            <p class="mb-3 text-gray-700 font-medium underline text-center">
              Set and Confirm your New Password
            </p>
            <div class="form-input-div">
              <i class="fas fa-lock text-orange-500"></i>
              <input
                type="password"
                id="newPassword"
                name="newPassword"
                placeholder="Enter New Password"
                class="form-input-box"
              />
            </div>

            <div class="form-input-div">
              <i class="fas fa-lock-open text-orange-500"></i>
              <input
                type="password"
                id="confirmPassword"
                name="confirmPassword"
                placeholder="Confirm new password"
                class="form-input-box"
              />
            </div>

            <button type="button" class="submit-button">
              <i class="fas fa-redo-alt"></i> Reset Password
            </button>
          </form>
        </section>

        <!-- STEP 5 -->
        <section id="step5-success" class="w-full hidden">
          <div class="auth-form">
            <div
              class="bg-green-100 border border-green-300 text-green-700 p-4 rounded-xl text-center"
            >
              <i class="fas fa-check-circle mr-2"></i>
              Password reset successful. You can now Proceed to Login.
            </div>
            <a href="/user/login" class="submit-button">
              <i class="fas fa-sign-in-alt"></i> Go to Login
            </a>
          </div>
        </section>

        <!-- Bottom Links -->
        <div
          class="text-center mt-14 text-sm text-gray-700 flex flex-col items-center justify-center gap-2"
        >
          <div>
            <i class="fas fa-question-circle mr-1"></i>Remembered your password?
            <a
              href="/user/login"
              class="text-orange-600 hover:underline font-medium"
              >Login</a
            >
          </div>
          <a href="/" class="hover:underline"
            ><i class="fas fa-times-circle mr-1"></i>Cancel & Go Back</a
          >
        </div>
      </div>
    </div>
  </body>
</html>
